<?php
namespace App\Http\Controllers\Merchant; use App\Library\Response; use Illuminate\Http\Request; use App\Http\Controllers\Controller; use Illuminate\Support\Facades\Auth; class Log extends Controller { function get(Request $sp85ba11) { $spaef809 = $sp85ba11->post('user_id'); $sp638f44 = $sp85ba11->post('action', \App\Log::ACTION_LOGIN); $spfed6d4 = \App\Log::where('action', $sp638f44); $spfed6d4->where('user_id', Auth::id()); $sp54e378 = $sp85ba11->post('start_at'); if (strlen($sp54e378)) { $spfed6d4->where('created_at', '>=', $sp54e378 . ' 00:00:00'); } $sp9b1a30 = $sp85ba11->post('end_at'); if (strlen($sp9b1a30)) { $spfed6d4->where('created_at', '<=', $sp9b1a30 . ' 23:59:59'); } $spefc91a = $sp85ba11->post('current_page', 1); $sp179110 = $sp85ba11->post('per_page', 20); $sp0ba550 = $spfed6d4->orderBy('created_at', 'DESC')->paginate($sp179110, array('*'), 'page', $spefc91a); return Response::success($sp0ba550); } }