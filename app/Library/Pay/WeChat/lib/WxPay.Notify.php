<?php
class WxPayNotify extends WxPayNotifyReply { public final function Handle($spc5606f = true) { $spbcb528 = WxpayApi::notify(array($this, 'NotifyCallBack'), $spbfa8f4); if ($spbcb528 == false) { $this->SetReturn_code('FAIL'); $this->SetReturn_msg($spbfa8f4); $this->ReplyNotify(false); return; } else { $this->SetReturn_code('SUCCESS'); $this->SetReturn_msg('OK'); } $this->ReplyNotify($spc5606f); } public function NotifyProcess($sp1835de, &$spbfa8f4) { return true; } public final function NotifyCallBack($sp1835de) { $spbfa8f4 = 'OK'; $spbcb528 = $this->NotifyProcess($sp1835de, $spbfa8f4); if ($spbcb528 == true) { $this->SetReturn_code('SUCCESS'); $this->SetReturn_msg('OK'); } else { $this->SetReturn_code('FAIL'); $this->SetReturn_msg($spbfa8f4); } return $spbcb528; } private final function ReplyNotify($spc5606f = true) { if ($spc5606f == true && $this->GetReturn_code() == 'SUCCESS') { $this->SetSign(); } WxpayApi::replyNotify($this->ToXml()); } }