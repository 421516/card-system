<?php
require_once __DIR__ . '/lib/WxPay.Api.php'; class NativePay { public function GetPrePayUrl($sp2ef8f2) { $spdae27e = new WxPayBizPayUrl(); $spdae27e->SetProduct_id($sp2ef8f2); $sp67019c = WxpayApi::bizpayurl($spdae27e); $spdfc1ea = 'weixin://wxpay/bizpayurl?' . $this->ToUrlParams($sp67019c); return $spdfc1ea; } private function ToUrlParams($sp9c98b7) { $sp7339d2 = ''; foreach ($sp9c98b7 as $spa8af52 => $sp651922) { $sp7339d2 .= $spa8af52 . '=' . $sp651922 . '&'; } $sp7339d2 = trim($sp7339d2, '&'); return $sp7339d2; } public function GetPayUrl($sp51043b) { if ($sp51043b->GetTrade_type() == 'NATIVE') { $spbcb528 = WxPayApi::unifiedOrder($sp51043b); return $spbcb528; } } public function GetH5PayUrl($sp51043b) { if ($sp51043b->GetTrade_type() == 'MWEB') { $spbcb528 = WxPayApi::unifiedOrder($sp51043b); return $spbcb528; } } }