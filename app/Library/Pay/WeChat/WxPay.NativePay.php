<?php
require_once __DIR__ . '/lib/WxPay.Api.php'; class NativePay { public function GetPrePayUrl($sp6327ba) { $sp2549aa = new WxPayBizPayUrl(); $sp2549aa->SetProduct_id($sp6327ba); $sp0fe240 = WxpayApi::bizpayurl($sp2549aa); $sp78f833 = 'weixin://wxpay/bizpayurl?' . $this->ToUrlParams($sp0fe240); return $sp78f833; } private function ToUrlParams($sp325b55) { $spd48832 = ''; foreach ($sp325b55 as $sp08a7aa => $sp99652d) { $spd48832 .= $sp08a7aa . '=' . $sp99652d . '&'; } $spd48832 = trim($spd48832, '&'); return $spd48832; } public function GetPayUrl($sp02dbf9) { if ($sp02dbf9->GetTrade_type() == 'NATIVE') { $spc4a98e = WxPayApi::unifiedOrder($sp02dbf9); return $spc4a98e; } } public function GetH5PayUrl($sp02dbf9) { if ($sp02dbf9->GetTrade_type() == 'MWEB') { $spc4a98e = WxPayApi::unifiedOrder($sp02dbf9); return $spc4a98e; } } }