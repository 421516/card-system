<?php
require_once __DIR__ . '/lib/WxPay.Api.php'; class NativePay { public function GetPrePayUrl($sp7841ba) { $spf54d19 = new WxPayBizPayUrl(); $spf54d19->SetProduct_id($sp7841ba); $sp6373bd = WxpayApi::bizpayurl($spf54d19); $sp7a0d0d = 'weixin://wxpay/bizpayurl?' . $this->ToUrlParams($sp6373bd); return $sp7a0d0d; } private function ToUrlParams($sp1a75ae) { $sp7d31a0 = ''; foreach ($sp1a75ae as $sp1e32fe => $sp398610) { $sp7d31a0 .= $sp1e32fe . '=' . $sp398610 . '&'; } $sp7d31a0 = trim($sp7d31a0, '&'); return $sp7d31a0; } public function GetPayUrl($sp11f4cb) { if ($sp11f4cb->GetTrade_type() == 'NATIVE') { $spcc4042 = WxPayApi::unifiedOrder($sp11f4cb); return $spcc4042; } } public function GetH5PayUrl($sp11f4cb) { if ($sp11f4cb->GetTrade_type() == 'MWEB') { $spcc4042 = WxPayApi::unifiedOrder($sp11f4cb); return $spcc4042; } } }