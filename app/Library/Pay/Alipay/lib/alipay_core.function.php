<?php
function createLinkString($sp897196) { $sp1fcd9e = ''; foreach ($sp897196 as $spfcd1b0 => $sp1f05d8) { $sp1fcd9e .= $spfcd1b0 . '=' . $sp1f05d8 . '&'; } $sp1fcd9e = substr($sp1fcd9e, 0, strlen($sp1fcd9e) - 1); if (get_magic_quotes_gpc()) { $sp1fcd9e = stripslashes($sp1fcd9e); } return $sp1fcd9e; } function createLinkStringUrlEncode($sp897196) { $sp1fcd9e = ''; foreach ($sp897196 as $spfcd1b0 => $sp1f05d8) { $sp1fcd9e .= $spfcd1b0 . '=' . urlencode($sp1f05d8) . '&'; } $sp1fcd9e = substr($sp1fcd9e, 0, strlen($sp1fcd9e) - 1); if (get_magic_quotes_gpc()) { $sp1fcd9e = stripslashes($sp1fcd9e); } return $sp1fcd9e; } function paraFilter($sp897196) { $sp231fce = array(); foreach ($sp897196 as $spfcd1b0 => $sp1f05d8) { if ($spfcd1b0 == 'sign' || $spfcd1b0 == 'sign_type' || $sp1f05d8 == '') { continue; } else { $sp231fce[$spfcd1b0] = $sp897196[$spfcd1b0]; } } return $sp231fce; } function argSort($sp897196) { ksort($sp897196); reset($sp897196); return $sp897196; } function logResult($sp415128 = '') { $sp92610b = fopen('log.txt', 'a'); flock($sp92610b, LOCK_EX); fwrite($sp92610b, '执行日期：' . strftime('%Y%m%d%H%M%S', time()) . '
' . $sp415128 . '
'); flock($sp92610b, LOCK_UN); fclose($sp92610b); } function getHttpResponsePOST($sp78f833, $spf4c74a, $sp897196, $sp56f0aa = '') { if (trim($sp56f0aa) != '') { $sp78f833 = $sp78f833 . '_input_charset=' . $sp56f0aa; } $spbc86ad = curl_init($sp78f833); curl_setopt($spbc86ad, CURLOPT_SSL_VERIFYPEER, true); curl_setopt($spbc86ad, CURLOPT_SSL_VERIFYHOST, 2); curl_setopt($spbc86ad, CURLOPT_CAINFO, $spf4c74a); curl_setopt($spbc86ad, CURLOPT_HEADER, 0); curl_setopt($spbc86ad, CURLOPT_RETURNTRANSFER, 1); curl_setopt($spbc86ad, CURLOPT_POST, true); curl_setopt($spbc86ad, CURLOPT_POSTFIELDS, $sp897196); $spbde983 = curl_exec($spbc86ad); curl_close($spbc86ad); return $spbde983; } function getHttpResponseGET($sp78f833, $sp6ae81b) { $spbc86ad = curl_init($sp78f833); curl_setopt($spbc86ad, CURLOPT_HEADER, 0); curl_setopt($spbc86ad, CURLOPT_RETURNTRANSFER, 1); curl_setopt($spbc86ad, CURLOPT_SSL_VERIFYPEER, true); curl_setopt($spbc86ad, CURLOPT_SSL_VERIFYHOST, 2); curl_setopt($spbc86ad, CURLOPT_CAINFO, $sp6ae81b); $spbde983 = curl_exec($spbc86ad); curl_close($spbc86ad); return $spbde983; } function charsetEncode($sp02dbf9, $sp3195be, $sp4552d2) { $spa55325 = ''; if (!isset($sp3195be)) { $sp3195be = $sp4552d2; } if ($sp4552d2 == $sp3195be || $sp02dbf9 == null) { $spa55325 = $sp02dbf9; } elseif (function_exists('mb_convert_encoding')) { $spa55325 = mb_convert_encoding($sp02dbf9, $sp3195be, $sp4552d2); } elseif (function_exists('iconv')) { $spa55325 = iconv($sp4552d2, $sp3195be, $sp02dbf9); } else { die('sorry, you have no libs support for charset change.'); } return $spa55325; } function charsetDecode($sp02dbf9, $sp4552d2, $sp3195be) { if (!isset($sp4552d2)) { $sp3195be = $sp4552d2; } if ($sp4552d2 == $sp3195be || $sp02dbf9 == null) { $spa55325 = $sp02dbf9; } elseif (function_exists('mb_convert_encoding')) { $spa55325 = mb_convert_encoding($sp02dbf9, $sp3195be, $sp4552d2); } elseif (function_exists('iconv')) { $spa55325 = iconv($sp4552d2, $sp3195be, $sp02dbf9); } else { die('sorry, you have no libs support for charset changes.'); } return $spa55325; }