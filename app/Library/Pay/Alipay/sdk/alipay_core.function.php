<?php
function createLinkString($sp7e5ec2) { $spc72ad7 = ''; foreach ($sp7e5ec2 as $spf74fd0 => $sp5d0add) { $spc72ad7 .= $spf74fd0 . '=' . $sp5d0add . '&'; } $spc72ad7 = substr($spc72ad7, 0, strlen($spc72ad7) - 1); if (get_magic_quotes_gpc()) { $spc72ad7 = stripslashes($spc72ad7); } return $spc72ad7; } function createLinkStringUrlEncode($sp7e5ec2) { $spc72ad7 = ''; foreach ($sp7e5ec2 as $spf74fd0 => $sp5d0add) { $spc72ad7 .= $spf74fd0 . '=' . urlencode($sp5d0add) . '&'; } $spc72ad7 = substr($spc72ad7, 0, strlen($spc72ad7) - 1); if (get_magic_quotes_gpc()) { $spc72ad7 = stripslashes($spc72ad7); } return $spc72ad7; } function paraFilter($sp7e5ec2) { $sp8a8731 = array(); foreach ($sp7e5ec2 as $spf74fd0 => $sp5d0add) { if ($spf74fd0 == 'sign' || $spf74fd0 == 'sign_type' || $sp5d0add == '') { continue; } else { $sp8a8731[$spf74fd0] = $sp7e5ec2[$spf74fd0]; } } return $sp8a8731; } function argSort($sp7e5ec2) { ksort($sp7e5ec2); reset($sp7e5ec2); return $sp7e5ec2; } function logResult($spb8a2eb = '') { $sp9ea283 = fopen('log.txt', 'a'); flock($sp9ea283, LOCK_EX); fwrite($sp9ea283, '执行日期：' . strftime('%Y%m%d%H%M%S', time()) . '
' . $spb8a2eb . '
'); flock($sp9ea283, LOCK_UN); fclose($sp9ea283); } function getHttpResponsePOST($sp11a0e0, $sp2b383e, $sp7e5ec2, $sp1606a3 = '') { if (trim($sp1606a3) != '') { $sp11a0e0 = $sp11a0e0 . '_input_charset=' . $sp1606a3; } $sp6c533c = curl_init($sp11a0e0); curl_setopt($sp6c533c, CURLOPT_SSL_VERIFYPEER, true); curl_setopt($sp6c533c, CURLOPT_SSL_VERIFYHOST, 2); curl_setopt($sp6c533c, CURLOPT_CAINFO, $sp2b383e); curl_setopt($sp6c533c, CURLOPT_HEADER, 0); curl_setopt($sp6c533c, CURLOPT_RETURNTRANSFER, 1); curl_setopt($sp6c533c, CURLOPT_POST, true); curl_setopt($sp6c533c, CURLOPT_POSTFIELDS, $sp7e5ec2); $spe82a27 = curl_exec($sp6c533c); curl_close($sp6c533c); return $spe82a27; } function getHttpResponseGET($sp11a0e0, $sp618b71) { $sp6c533c = curl_init($sp11a0e0); curl_setopt($sp6c533c, CURLOPT_HEADER, 0); curl_setopt($sp6c533c, CURLOPT_RETURNTRANSFER, 1); curl_setopt($sp6c533c, CURLOPT_SSL_VERIFYPEER, true); curl_setopt($sp6c533c, CURLOPT_SSL_VERIFYHOST, 2); curl_setopt($sp6c533c, CURLOPT_CAINFO, $sp618b71); $spe82a27 = curl_exec($sp6c533c); curl_close($sp6c533c); return $spe82a27; } function charsetEncode($spd2b050, $sp181ae4, $sp982bb0) { $sp553789 = ''; if (!isset($sp181ae4)) { $sp181ae4 = $sp982bb0; } if ($sp982bb0 == $sp181ae4 || $spd2b050 == null) { $sp553789 = $spd2b050; } elseif (function_exists('mb_convert_encoding')) { $sp553789 = mb_convert_encoding($spd2b050, $sp181ae4, $sp982bb0); } elseif (function_exists('iconv')) { $sp553789 = iconv($sp982bb0, $sp181ae4, $spd2b050); } else { die('sorry, you have no libs support for charset change.'); } return $sp553789; } function charsetDecode($spd2b050, $sp982bb0, $sp181ae4) { if (!isset($sp982bb0)) { $sp181ae4 = $sp982bb0; } if ($sp982bb0 == $sp181ae4 || $spd2b050 == null) { $sp553789 = $spd2b050; } elseif (function_exists('mb_convert_encoding')) { $sp553789 = mb_convert_encoding($spd2b050, $sp181ae4, $sp982bb0); } elseif (function_exists('iconv')) { $sp553789 = iconv($sp982bb0, $sp181ae4, $spd2b050); } else { die('sorry, you have no libs support for charset changes.'); } return $sp553789; } function md5Sign($sp1f20d7, $spf74fd0) { $sp1f20d7 = $sp1f20d7 . $spf74fd0; return md5($sp1f20d7); } function md5Verify($sp1f20d7, $sp9c9a88, $spf74fd0) { $sp1f20d7 = $sp1f20d7 . $spf74fd0; $sp9d132d = md5($sp1f20d7); if ($sp9d132d == $sp9c9a88) { return true; } else { return false; } }