<?php
namespace App\Library\Pay; class Pay { private $driver = null; public function goPay($sp486342, $sp2c969b, $spc644e5, $sp5b5e88, $sp6246a9) { $this->driver = static::getDriver($sp486342->id, $sp486342->driver); $sp4d5cc2 = json_decode($sp486342->config, true); $sp4d5cc2['payway'] = $sp486342->way; $this->driver->goPay($sp4d5cc2, $sp2c969b, $spc644e5, $sp5b5e88, $sp6246a9); return true; } public static function getDriver($spdc7c2f, $sp3f9daa) { $spbd01e7 = 'App\\Library\\Pay\\' . ucfirst($sp3f9daa) . '\\Api'; if (!class_exists($spbd01e7)) { throw new \Exception('支付驱动未找到'); } return new $spbd01e7($spdc7c2f); } }