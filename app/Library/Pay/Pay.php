<?php
namespace App\Library\Pay; class Pay { private $driver = null; public function goPay($sp651d92, $sp64a7d9, $sp89af34, $sp92f0c1, $sp9a8a75) { $this->driver = static::getDriver($sp651d92->id, $sp651d92->driver); $spa9e109 = json_decode($sp651d92->config, true); $spa9e109['payway'] = $sp651d92->way; $this->driver->goPay($spa9e109, $sp64a7d9, $sp89af34, $sp92f0c1, $sp9a8a75); return true; } public static function getDriver($spad3b84, $sp38e57e) { $sp67feba = 'App\\Library\\Pay\\' . ucfirst($sp38e57e) . '\\Api'; if (!class_exists($sp67feba)) { throw new \Exception('支付驱动未找到'); } return new $sp67feba($spad3b84); } }