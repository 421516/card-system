<?php
namespace App\Library\Pay; class Pay { private $driver = null; public function goPay($spfc2b4a, $sp044e8f, $sp547016, $speb838e, $spbd56f5) { $this->driver = static::getDriver($spfc2b4a->id, $spfc2b4a->driver); $sp8abf69 = json_decode($spfc2b4a->config, true); $sp8abf69['payway'] = $spfc2b4a->way; $this->driver->goPay($sp8abf69, $sp044e8f, $sp547016, $speb838e, $spbd56f5); return true; } public static function getDriver($sp8b61af, $sp5fbad2) { $spcf163e = 'App\\Library\\Pay\\' . ucfirst($sp5fbad2) . '\\Api'; if (!class_exists($spcf163e)) { throw new \Exception('支付驱动未找到'); } return new $spcf163e($sp8b61af); } }